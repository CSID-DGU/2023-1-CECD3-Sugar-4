"""
1. image_file, anntations 생성된 Label.txt에서 가져오기
2. 출력경로 설정
3. txt 파일에서 ' -> "로 모두 바꾸기
4. linking 진행
"""

data = [
    {
        "image_file": "kor6.jpg",
        "annotations": [{"transcription": "원본확인번호 :", "points": [[49, 51], [128, 51], [128, 67], [49, 67]], "difficult": False, "key_cls": "question"}, {"transcription": "AD9B-B2226- 7620- AC86F", "points": [[132, 53], [246, 53], [246, 65], [132, 65]], "difficult": False, "key_cls": "answer"}, {"transcription": "졸업증명서", "points": [[224, 151], [414, 151], [414, 178], [224, 178]], "difficult": False, "key_cls": "header"}, {"transcription": "성 명 :", "points": [[151, 261], [274, 261], [274, 277], [151, 277]], "difficult": False, "key_cls": "question"}, {"transcription": "생년월일", "points": [[150, 288], [281, 289], [281, 307], [149, 306]], "difficult": False, "key_cls": "question"}, {"transcription": "1986년 01월 01일", "points": [[282, 291], [405, 291], [405, 310], [282, 310]], "difficult": False, "key_cls": "answer"}, {"transcription": "학 과 :", "points": [[147, 321], [272, 321], [272, 339], [147, 339]], "difficult": False, "key_cls": "question"}, {"transcription": "학번:", "points": [[147, 354], [274, 354], [274, 371], [147, 371]], "difficult": False, "key_cls": "question"}, {"transcription": "200501001", "points": [[283, 355], [351, 355], [351, 369], [283, 369]], "difficult": False, "key_cls": "question"}, {"transcription": "졸업년월일:", "points": [[144, 385], [275, 385], [275, 403], [144, 403]], "difficult": False, "key_cls": "question"}, {"transcription": "2008-02-14", "points": [[282, 387], [361, 387], [361, 401], [282, 401]], "difficult": False, "key_cls": "answer"}, {"transcription": "졸업증서번호:", "points": [[149, 417], [276, 417], [276, 435], [149, 435]], "difficult": False, "key_cls": "question"}, {"transcription": "테스트-2008-0057", "points": [[283, 448], [406, 448], [406, 465], [283, 465]], "difficult": False, "key_cls": "answer"}, {"transcription": "위의사실을증명합니다", "points": [[168, 536], [475, 536], [475, 556], [168, 556]], "difficult": False, "key_cls": "other"}, {"transcription": "2019년12월203일", "points": [[251, 589], [391, 589], [391, 610], [251, 610]], "difficult": False, "key_cls": "other"}, {"transcription": "테스트대학교총장", "points": [[132, 675], [511, 675], [511, 707], [132, 707]], "difficult": False, "key_cls": "other"}, {"transcription": "용도:", "points": [[40, 739], [66, 739], [66, 752], [40, 752]], "difficult": False, "key_cls": "question"}, {"transcription": "df", "points": [[149, 742], [157, 742], [157, 754], [149, 754]], "difficult": False, "key_cls": "answer"}, {"transcription": "2020.01.02", "points": [[205, 739], [250, 739], [250, 753], [205, 753]], "difficult": False, "key_cls": "answer"}, {"transcription": "홍길동", "points": [[332, 260], [284, 260], [284, 277], [332, 277]], "difficult": False, "key_cls": "answer"}, {"transcription": "컴퓨터정보과", "points": [[375, 321], [285, 321], [285, 343], [375, 343]], "difficult": False, "key_cls": "answer"}, {"transcription": "학위등록번호:", "points": [[147, 447], [273, 447], [273, 467], [147, 467]], "difficult": False, "key_cls": "question"}, {"transcription": "교육기관용", "points": [[67, 741], [109, 741], [109, 752], [67, 752]], "difficult": False, "key_cls": "answer"}, {"transcription": "제출처:", "points": [[116, 740], [148, 740], [148, 753], [116, 753]], "difficult": False, "key_cls": "question"}, {"transcription": "유효기간", "points": [[166, 740], [204, 740], [204, 751], [166, 751]], "difficult": False, "key_cls": "question"}]
        },
    {
        "image_file": "kor7.jpg",
        "annotations":[{"transcription": "경력증명서", "points": [[160, 16], [337, 16], [337, 35], [160, 35]], "difficult": False, "key_cls": "header"}, {"transcription": "2020년 12월 31일", "points": [[281, 480], [404, 480], [404, 494], [281, 494]], "difficult": False, "key_cls": "other"}, {"transcription": "00종합상사(주)", "points": [[139, 543], [248, 543], [248, 560], [139, 560]], "difficult": False, "key_cls": "other"}, {"transcription": "대표이사", "points": [[257, 543], [322, 543], [322, 560], [257, 560]], "difficult": False, "key_cls": "question"}, {"transcription": "홍길동", "points": [[327, 543], [391, 543], [391, 561], [327, 561]], "difficult": False, "key_cls": "answer"}, {"transcription": "성명", "points": [[54, 81], [115, 81], [115, 95], [54, 95]], "difficult": False, "key_cls": "question"}, {"transcription": "홍길동", "points": [[165, 81], [207, 81], [207, 95], [165, 95]], "difficult": False, "key_cls": "answer"}, {"transcription": "생년월일", "points": [[260, 80], [320, 80], [320, 95], [260, 95]], "difficult": False, "key_cls": "question"}, {"transcription": "1950년 5월29일", "points": [[344, 83], [422, 83], [422, 95], [344, 95]], "difficult": False, "key_cls": "answer"}, {"transcription": "주소", "points": [[62, 116], [112, 116], [112, 127], [62, 127]], "difficult": False, "key_cls": "question"}, {"transcription": "경기도 경기대로 180-24", "points": [[132, 114], [248, 114], [248, 128], [132, 128]], "difficult": False, "key_cls": "answer"}, {"transcription": "500529-1065367", "points": [[346, 115], [421, 115], [421, 128], [346, 128]], "difficult": False, "key_cls": "answer"}, {"transcription": "주민등록번호", "points": [[259, 115], [318, 115], [318, 127], [259, 127]], "difficult": False, "key_cls": "question"}, {"transcription": "재직시소속", "points": [[59, 147], [115, 147], [115, 160], [59, 160]], "difficult": False, "key_cls": "question"}, {"transcription": "관리부", "points": [[166, 148], [210, 148], [210, 160], [166, 160]], "difficult": False, "key_cls": "answer"}, {"transcription": "직위", "points": [[258, 145], [319, 145], [319, 162], [258, 162]], "difficult": False, "key_cls": "question"}, {"transcription": "사원", "points": [[366, 146], [403, 146], [403, 161], [366, 161]], "difficult": False, "key_cls": "answer"}, {"transcription": "재직기간", "points": [[58, 181], [116, 181], [116, 194], [58, 194]], "difficult": False, "key_cls": "question"}, {"transcription": "2020년1월1일부터", "points": [[147, 173], [263, 173], [263, 185], [147, 185]], "difficult": False, "key_cls": "answer"}, {"transcription": "2020년12절31일까지", "points": [[143, 191], [266, 191], [266, 203], [143, 203]], "difficult": False, "key_cls": "answer"}, {"transcription": "(1년0개월0일)", "points": [[306, 183], [428, 183], [428, 194], [306, 194]], "difficult": False, "key_cls": "other"}, {"transcription": "상기와 같이 재직하였음을 증명함.", "points": [[152, 304], [345, 304], [345, 319], [152, 319]], "difficult": False, "key_cls": "other"}]    
        },
    {
        "image_file": "kor8.jpg",
        "annotations": [{"transcription": "포장재재질구조평가제도업무처리지침[별지제2호서식]", "points": [[109, 140], [489, 140], [489, 160], [109, 160]], "difficult": False, "key_cls": "other"}, {"transcription": "포장재재질구조증명서", "points": [[342, 194], [650, 194], [650, 222], [342, 222]], "difficult": False, "key_cls": "header"}, {"transcription": "상호", "points": [[232, 256], [273, 256], [273, 274], [232, 274]], "difficult": False, "key_cls": "question"}, {"transcription": "대표자 성명", "points": [[548, 257], [639, 257], [639, 275], [548, 275]], "difficult": False, "key_cls": "question"}, {"transcription": "활빈산업(주)", "points": [[337, 282], [438, 282], [438, 303], [337, 303]], "difficult": False, "key_cls": "answer"}, {"transcription": "홍길동", "points": [[688, 282], [743, 282], [743, 304], [688, 304]], "difficult": False, "key_cls": "answer"}, {"transcription": "공급받는자", "points": [[121, 307], [214, 307], [214, 332], [121, 332]], "difficult": False, "key_cls": "other"}, {"transcription": "평가의무자", "points": [[112, 333], [218, 333], [218, 358], [112, 358]], "difficult": False, "key_cls": "other"}, {"transcription": "인천광역시서구환경로42", "points": [[447, 358], [674, 358], [674, 376], [447, 376]], "difficult": False, "key_cls": "answer"}, {"transcription": "( 연락처 :", "points": [[655, 390], [726, 390], [726, 406], [655, 406]], "difficult": False, "key_cls": "question"}, {"transcription": "(000-0000-0000", "points": [[743, 390], [881, 390], [881, 409], [743, 409]], "difficult": False, "key_cls": "answer"}, {"transcription": "포장재 종류", "points": [[230, 421], [324, 421], [324, 437], [230, 437]], "difficult": False, "key_cls": "question"}, {"transcription": "대표제품명(평가신청한 제품명)", "points": [[548, 419], [787, 419], [787, 440], [548, 440]], "difficult": False, "key_cls": "question"}, {"transcription": "포장재 정보", "points": [[117, 444], [220, 444], [220, 465], [117, 465]], "difficult": False, "key_cls": "other"}, {"transcription": "합성수지복합재질필름시트류", "points": [[260, 455], [513, 455], [513, 474], [260, 474]], "difficult": False, "key_cls": "answer"}, {"transcription": "박카스D 100ml", "points": [[655, 456], [778, 456], [778, 474], [655, 474]], "difficult": False, "key_cls": "answer"}, {"transcription": "LDPE7+NyIon15+PET50", "points": [[493, 526], [688, 526], [688, 547], [493, 547]], "difficult": False, "key_cls": "answer"}, {"transcription": "몸체", "points": [[241, 545], [275, 545], [275, 563], [241, 563]], "difficult": False, "key_cls": "question"}, {"transcription": "알루미늄이부착또는증착된경우알루미늄두께반드시명시", "points": [[325, 557], [859, 557], [859, 578], [325, 578]], "difficult": False, "key_cls": "other"}, {"transcription": "포장재", "points": [[139, 615], [195, 615], [195, 637], [139, 637]], "difficult": False, "key_cls": "other"}, {"transcription": "재질구조", "points": [[127, 645], [205, 645], [205, 665], [127, 665]], "difficult": False, "key_cls": "other"}, {"transcription": "재질 :", "points": [[548, 645], [600, 645], [600, 665], [548, 665]], "difficult": False, "key_cls": "question"}, {"transcription": "PP", "points": [[603, 646], [630, 646], [630, 664], [603, 664]], "difficult": False, "key_cls": "answer"}, {"transcription": "정보", "points": [[148, 671], [187, 671], [187, 693], [148, 693]], "difficult": False, "key_cls": "other"}, {"transcription": "마개 및 잡자재", "points": [[229, 737], [287, 737], [287, 786], [229, 786]], "difficult": False, "key_cls": "question"}, {"transcription": "마개 :", "points": [[549, 734], [599, 734], [599, 755], [549, 755]], "difficult": False, "key_cls": "question"}, {"transcription": "PE", "points": [[601, 734], [632, 734], [632, 754], [601, 754]], "difficult": False, "key_cls": "answer"}, {"transcription": "마개를싸고있는수축필름 :", "points": [[449, 764], [688, 764], [688, 787], [449, 787]], "difficult": False, "key_cls": "question"}, {"transcription": "PET", "points": [[691, 765], [734, 765], [734, 786], [691, 786]], "difficult": False, "key_cls": "answer"}, {"transcription": "포장재제조업체대표", "points": [[278, 1005], [557, 1005], [557, 1033], [278, 1033]], "difficult": False, "key_cls": "other"}, {"transcription": "(인)", "points": [[725, 1004], [761, 1004], [761, 1029], [725, 1029]], "difficult": False, "key_cls": "other"}, {"transcription": "1. 두께, 색상값, 열알칼리성 분리 접착재 여부, 접착제 도포면적 항목의 경우 기기분석 정보(시험", "points": [[146, 1093], [884, 1093], [884, 1112], [146, 1112]], "difficult": False, "key_cls": "other"}, {"transcription": "2. 포장용기 또는 부자재 납품업체의 성적서, 포장재 발주규격서 및 납품확인서, 원료를 확인할 수 있는", "points": [[148, 1143], [885, 1143], [885, 1165], [148, 1165]], "difficult": False, "key_cls": "other"}, {"transcription": "주소", "points": [[229, 330], [277, 330], [277, 352], [229, 352]], "difficult": False, "key_cls": "question"}, {"transcription": "라벨", "points": [[239, 646], [276, 646], [276, 666], [239, 666]], "difficult": False, "key_cls": "question"}, {"transcription": "일시, 시험자, 분석 장비명 및 분석 결과 사진)는 별지로 작성", "points": [[172, 1120], [619, 1120], [619, 1135], [172, 1135]], "difficult": False, "key_cls": "other"}, {"transcription": "물질안전보건자료(MSDS) 첨부", "points": [[170, 1172], [380, 1172], [380, 1192], [170, 1192]], "difficult": False, "key_cls": "other"}]    
        },
    {
        "image_file": "kor9.jpg",
        "annotations": [{"transcription": "소득증명서", "points": [[221, 63], [473, 63], [473, 100], [221, 100]], "difficult": False, "key_cls": "header"}, {"transcription": "홍길동", "points": [[220, 185], [262, 185], [262, 203], [220, 203]], "difficult": False, "key_cls": "answer"}, {"transcription": "주민등록번호", "points": [[344, 186], [434, 186], [434, 203], [344, 203]], "difficult": False, "key_cls": "question"}, {"transcription": "700000 - 1000000", "points": [[476, 185], [592, 185], [592, 200], [476, 200]], "difficult": False, "key_cls": "answer"}, {"transcription": "서울서초구서초동", "points": [[162, 237], [290, 237], [290, 256], [162, 256]], "difficult": False, "key_cls": "answer"}, {"transcription": "직장명", "points": [[79, 292], [142, 292], [142, 311], [79, 311]], "difficult": False, "key_cls": "question"}, {"transcription": "주식회사대한민국", "points": [[183, 292], [304, 292], [304, 307], [183, 307]], "difficult": False, "key_cls": "answer"}, {"transcription": "직장전화번호", "points": [[347, 292], [437, 292], [437, 309], [347, 309]], "difficult": False, "key_cls": "question"}, {"transcription": "직장주소", "points": [[80, 342], [141, 342], [141, 359], [80, 359]], "difficult": False, "key_cls": "question"}, {"transcription": "서울서초구서초동", "points": [[164, 343], [292, 343], [292, 359], [164, 359]], "difficult": False, "key_cls": "answer"}, {"transcription": "근무기간", "points": [[81, 385], [142, 385], [142, 402], [81, 402]], "difficult": False, "key_cls": "question"}, {"transcription": "3년", "points": [[162, 385], [183, 385], [183, 401], [162, 401]], "difficult": False, "key_cls": "answer"}, {"transcription": "상기인은 2000년 1월 1일부터 매월평균 100만원의 소득이 있음을 증명", "points": [[82, 456], [635, 456], [635, 473], [82, 473]], "difficult": False, "key_cls": "other"}, {"transcription": "합니다.", "points": [[61, 502], [122, 502], [122, 519], [61, 519]], "difficult": False, "key_cls": "other"}, {"transcription": "주식회사 대한민국", "points": [[368, 606], [504, 606], [504, 623], [368, 623]], "difficult": False, "key_cls": "answer"}, {"transcription": "대표자명", "points": [[294, 660], [362, 660], [362, 679], [294, 679]], "difficult": False, "key_cls": "question"}, {"transcription": "이순신", "points": [[370, 660], [415, 660], [415, 678], [370, 678]], "difficult": False, "key_cls": "answer"}, {"transcription": "지방법원 귀중", "points": [[67, 744], [201, 744], [201, 763], [67, 763]], "difficult": False, "key_cls": "other"}, {"transcription": "성 명", "points": [[80, 184], [142, 184], [142, 202], [80, 202]], "difficult": False, "key_cls": "question"}, {"transcription": "주소", "points": [[80, 239], [141, 239], [141, 255], [80, 255]], "difficult": False, "key_cls": "question"}, {"transcription": "02) 500 - 0000", "points": [[482, 292], [587, 292], [587, 310], [482, 310]], "difficult": False, "key_cls": "answer"}, {"transcription": "직장명:", "points": [[294, 604], [364, 604], [364, 622], [294, 622]], "difficult": False, "key_cls": "question"}]    
        }
]

output_data = {}

for entry in data:
    image_file = entry["image_file"]
    annotations = entry["annotations"]
    
    image_annotations = []
    for id_counter, annotation in enumerate(annotations, start=1):  # Start the id counter from 1
        output_entry = {
            "transcription": annotation["transcription"],
            "points": annotation["points"],
            "label": annotation["key_cls"],
            "id": id_counter,
            "linking": []
        }
        
        image_annotations.append(output_entry)
    
    output_data[image_file] = image_annotations

# 파일에 출력을 저장
output_filename = "C:\\Users\\gwonl\\Desktop\\imgdata\\labeling.txt"
with open(output_filename, "w") as output_file:
    for image_file, annotations in output_data.items():
        output_file.write(f"{image_file}\t{annotations}\n")

print(f"Data has been saved to {output_filename}")
